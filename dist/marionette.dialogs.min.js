/*! marionette.dialogs - v0.5.4
 *  Release on: 2014-11-21
 *  Copyright (c) 2014 St√©phane Bachelier
 *  Licensed MIT */
define(["marionette"],function(a){"use strict";var b={types:{},custom:{}},c=a.ItemView.extend({serializeData:function(){return this.options.dialog||{}},dismiss:function(a){a&&a.stopImmediatePropagation(),this.destroy()}});b.types.dialog=c;var d=c.extend({className:"dialog dialog--alert",ui:{button:".alert--button"},events:{"click @ui.button":"dismiss"}});b.types.alert=d;var e=c.extend({className:"dialog dialog--confirm",ui:{ok:".confirm--ok--button",nok:".confirm--nok--button"},events:{"click @ui.ok":"confirm","click @ui.nok":"reject"},confirm:function(){this.triggerMethod("confirm"),this.dismiss()},reject:function(){this.triggerMethod("reject"),this.dismiss()}});b.types.confirm=e;var f=c.extend({className:"dialog dialog--notification",events:{click:"dismiss"},onRender:function(){this.getOption("timeout")&&this.runTimer(this.getOption("timeout"))},runTimer:function(a){var b=this;setTimeout(function(){b.dismiss()},a)}});b.types.notification=f;var g=f.extend({className:"dialog dialog--toast"});b.types.toast=g;var h=c.extend({className:"dialog dialog--waiting"});b.types.waiting=h;var i=c.extend({className:"dialog dialog--splash",ui:{buttons:".splash--button"},events:{"click @ui.buttons":"onClicked"},onClicked:function(){this.dismiss()}});b.types.splash=i,b.get=function(a){return b.types[a]||b.custom[a]||null},b.register=function(a,c){b.custom[a]=c};var j=function(a,b){this.dialogs=a,this.options=b||{},this.config=b.config||{},this.templates=b.templates||{}};return j.prototype.createDialog=function(a,b){var c=b||{};c.dialog=a;var d=this.dialogs.get(a.type);a.className&&(c.className=d.prototype.className+" "+a.className);var e=new d(c);return e.template||(e.template=this.templates[a.template||a.type]),e},j.prototype.create=function(a,b){if(a){var c;if("[object Object]"===a.toString()){var d=a.type;this.config.dialogs[d]&&(c=_.extend({},this.config.dialogs[d],a))}else c=this.config.dialogs[a];if(c)return this.createDialog(c,b)}},j.prototype.render=function(a,b,c){if(a){var d={};c&&c.hasOwnProperty("region")&&(d=c.region,delete c.region);var e=this.create(b,c);return e?(a.show(e,d),e):!1}},b.Factory=j,a.dialogs=b,b});